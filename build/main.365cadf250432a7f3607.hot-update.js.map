{"version":3,"file":"main.365cadf250432a7f3607.hot-update.js","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAnBA;AAsBA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAEA;AACA;AAFA;AAMA;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAHA;AAWA;AACA;AAzBA;AA4BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAGA;AAIA;AACA;AACA;AAGA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1GA","sources":["/Users/lixingjuan/Documents/Codes/my/happy-request/src/components/Editor/editor.js","/Users/lixingjuan/Documents/Codes/my/happy-request/webpack/runtime/getFullHash"],"sourcesContent":["export function initEditor() {\n  const editor = window.monaco.editor.create(\n    document.getElementById(\"container\"),\n    {\n      value: result.config_for_shown || window.DEFAULT_DATA,\n      language: \"json\",\n\n      minimap: {\n        enabled: false,\n      },\n      fontFamily: \"Fira Code, monospace\",\n      fontSize: 13,\n      fontLigatures: true,\n\n      contextmenu: false,\n      scrollBeyondLastLine: false,\n      folding: true,\n      showFoldingControls: \"always\",\n\n      useTabStops: true,\n      wordBasedSuggestions: true,\n      quickSuggestions: true,\n      suggestOnTriggerCharacters: true,\n    }\n  );\n  window.editor = editor;\n}\n\nchrome.storage.sync.get(\"config_for_shown\", (result) => {\n  window.require([\"vs/editor/editor.main\"], () => {\n    function setStorage() {\n      const data = editor.getValue();\n      const config = window\n        .stripJsonComments(data)\n        .replace(/\\s+/g, \"\")\n        .replace(window.cleanJSONReg, ($0, $1, $2) => $2);\n      try {\n        console.log(\"=========data\");\n        console.log(data);\n        console.log(\"=========config\");\n        console.log(config);\n      } catch (e) {\n        console.error(e);\n      }\n\n      chrome.storage.sync.set(\n        {\n          config_for_shown: data,\n          config,\n        },\n        () => {}\n      );\n    }\n\n    setStorage();\n\n    window.monaco.languages.registerCompletionItemProvider(\"json\", {\n      provideCompletionItems: () => {\n        const textArr = [];\n        chrome.extension.getBackgroundPage().urls.forEach((item) => {\n          if (item) {\n            textArr.push({\n              label: item,\n              kind: window.monaco.languages.CompletionItemKind.Text,\n            });\n          }\n        });\n\n        const extraItems = [\n          {\n            label: \"rule\",\n            kind: window.monaco.languages.CompletionItemKind.Method,\n            insertText: {\n              value: `[\n  \"\\${1:from}\",\n  \"\\${1:to}\"\n]\\${0}`,\n            },\n          },\n        ];\n        return [...textArr, ...extraItems];\n      },\n    });\n\n    editor.onDidChangeModelContent(() => {\n      setStorage();\n    });\n  });\n});\n\nfunction preventSave() {\n  console.log(\"zhixing \");\n  document.addEventListener(\n    \"keydown\",\n    (e) => {\n      if (\n        e.keyCode === 83 &&\n        (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)\n      ) {\n        e.preventDefault();\n      }\n    },\n    false\n  );\n}\n\npreventSave();\n","__webpack_require__.h = () => (\"899b1c35334b28a52018\")"],"names":[],"sourceRoot":""}